<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.toy.toy_petsitter_back.repository.UserRepository">
    <select id="getUserInfo" resultType="HashMap">
        SELECT * FROM user WHERE user_seq = 1;
    </select>

    <select id="getUserList" resultType="HashMap">
        SELECT * FROM user;
    </select>

    <select id="getLoginInfo" resultType="HashMap" parameterType="String">
        SELECT email, password FROM user WHERE email = #{id, jdbcType=VARCHAR}
    </select>

    <select id="getLoginInfoHash" resultType="HashMap" parameterType="String">
        SELECT user_seq, email, password FROM user WHERE email = #{id, jdbcType=VARCHAR}
    </select>

    <!-- 아이디 존재 여부 확인 -->
    <select id="checkId" resultType="String" parameterType="String">
        SELECT * FROM USER WHERE email = #{id, jdbcType=VARCHAR}
    </select>

    <!-- 회원가입 -->
    <insert id="insertUser" parameterType="HashMap">
        INSERT INTO USER (AUTHORITY, EMAIL, PASSWORD, NAME, PHONE, ZIP_CODE, ADDRESS, ADDRESS_DETAIL, REG_DATE,
                               SITTER_ACCOUNT, SITTER_EXPERIENCE, EXPERIENCE_DETAIL, PET_EXPERIENCE)
        VALUES (#{authority, jdbcType=VARCHAR}, #{email, jdbcType=VARCHAR}, #{password, jdbcType=VARCHAR}, #{name, jdbcType=VARCHAR},
                #{phone, jdbcType=VARCHAR}, #{zipCode, jdbcType=VARCHAR}, #{address1, jdbcType=VARCHAR}, #{address2, jdbcType=VARCHAR},
                now(), #{sitterAccount, jdbcType=VARCHAR}, #{sitterExperience, jdbcType=VARCHAR}, #{experienceDetail, jdbcType=VARCHAR}
                ,#{petExperience, jdbcType=VARCHAR})
    </insert>

</mapper>
